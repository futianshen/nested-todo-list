(this["webpackJsonpnested-todo-list"]=this["webpackJsonpnested-todo-list"]||[]).push([[0],{32:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var c,o,s,i,r,a=n(0),d=n.n(a),l=n(8),u=n.n(l),j=(n(32),n(7)),b=n(12),x=n(9),O=n(17),f=n(10),h=Object(f.a)(c||(c=Object(x.a)(["\n  margin: 0 auto;\n  width: 500px;\n"]))),m=Object(f.b)(j.a)(o||(o=Object(x.a)(["\n  &&& {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    padding: 0;\n    width: 33px;\n    height: 33px;\n  }\n"]))),g=n(5),p=f.b.ol(s||(s=Object(x.a)(["\n  ","\n"])),h),v=function(e){var t=e.name,n=e.control,c=e.renderAddButton,o=e.renderTodo,s=Object(O.a)({name:t,control:n}),i=s.fields,r=s.prepend,a=s.remove;return Object(g.jsxs)(g.Fragment,{children:[null===c||void 0===c?void 0:c((function(e){return r(e)})),o&&Object(g.jsx)(p,{className:"d-flex gap-3",children:i.map((function(e,t){return o(e.id,t,(function(){return a(t)}))}))})]})},L=n(15),D=n(27),C=f.b.input(i||(i=Object(x.a)(["\n  width: 2rem;\n  height: 2rem;\n"]))),k=f.b.input(r||(r=Object(x.a)(["\n  height: 2rem;\n"]))),N=function(e){var t=e.onRegister,n=e.onCheck,c=e.onRemove,o=e.children;return Object(g.jsxs)("li",{children:[Object(g.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[Object(g.jsx)(C,Object(L.a)(Object(L.a)({type:"checkbox"},t("isDone")),{},{onChange:function(e){null===t||void 0===t||t("isDone").onChange(e),null===n||void 0===n||n()}})),Object(g.jsx)(k,Object(L.a)(Object(L.a)({className:"flex-grow"},t("value")),{},{type:"text",placeholder:"todo"})),Object(g.jsx)(D.Delete,{onClick:c})]}),o,o&&Object(g.jsx)(j.c,{})]})};N.TodoList=v;var y,S=N,w=f.b.section(y||(y=Object(x.a)(["\n  ","\n"])),h),R=[{value:"todo group 2",isDone:!0},{value:"todo group 1",isDone:!1,list:[{value:"group todo 2",isDone:!1},{value:"group todo 1",isDone:!0}]}],T=function(){var e=Object(O.b)({defaultValues:{nestedList:localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):R}}),t=e.control,n=e.register,c=e.getValues,o=e.setValue,s=e.handleSubmit,i=Object(j.e)(),r=Object(b.a)(i,2)[1],a=s((function(e){localStorage.setItem("todoList",JSON.stringify(e.nestedList)),r({text:"Saved",type:"success"})}));return Object(g.jsxs)(w,{className:"flex flex-col items-center",children:[Object(g.jsxs)(j.b,{className:"d-flex gap-1 mx-0",children:[Object(g.jsx)(j.a,{onClick:a,children:"\u2191 Save"}),Object(g.jsx)(j.a,{onClick:function(){o("nestedList",JSON.parse(localStorage.getItem("todoList"))),r({text:"Loaded",type:"secondary"})},children:"\u2193 Load"}),Object(g.jsx)(j.a,{onClick:function(){o("nestedList",[]),r({text:"Clear"})},children:"X Clear"})]}),Object(g.jsx)(v,{name:"nestedList",control:t,renderAddButton:function(e){return Object(g.jsxs)(j.b,{className:"d-flex justify-center gap-1",children:[Object(g.jsx)(j.a,{onClick:function(){e({value:"",isDone:!1})},children:"+ Todo"}),Object(g.jsx)(j.a,{onClick:function(){return e({value:"",isDone:!1,list:[{value:"",isDone:!1}]})},children:"+ Group"})]})},renderTodo:function(e,s,i){return Object(g.jsx)("div",{className:"mb-2",children:Object(g.jsx)(S,{onRegister:function(e){return n("nestedList.".concat(s,".").concat(e))},onCheck:function(){var e,t=c("nestedList.".concat(s));null===(e=t.list)||void 0===e||e.forEach((function(e,n){o("nestedList.".concat(s,".list.").concat(n,".isDone"),t.isDone)}))},onRemove:i,children:Object(g.jsx)("div",{className:"flex gap-1",children:Object(g.jsx)(S.TodoList,{name:"nestedList.".concat(s,".list"),control:t,renderAddButton:function(e){return Object(g.jsx)(m,{onClick:function(){e({value:"",isDone:!1}),!0===c("nestedList.".concat(s,".isDone"))&&o("nestedList.".concat(s,".isDone"),!1)},auto:!0,children:"+"})},renderTodo:function(e,t,i){return Object(g.jsx)("div",{className:"mb-2",children:Object(g.jsx)(S,{onRegister:function(e){return n("nestedList.".concat(s,".list.").concat(t,".").concat(e))},onCheck:function(){if((c("nestedList.".concat(s,".list"))||[]).every((function(e){return e.isDone})))return o("nestedList.".concat(s,".isDone"),!0);o("nestedList.".concat(s,".isDone"),!1)},onRemove:i})},e)}})})},e)},e)}})]})};var I=function(){return Object(g.jsx)(j.d,{children:Object(g.jsx)(T,{})})};u.a.render(Object(g.jsx)(d.a.StrictMode,{children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[359,1,2]]]);
//# sourceMappingURL=main.645de39d.chunk.js.map